(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={StockDetail:"StockDetail_StockDetail__CBAK_",backbutton:"StockDetail_backbutton__1A_HV",Name_Price_Chart:"StockDetail_Name_Price_Chart__3E6BW",rangeChoice:"StockDetail_rangeChoice__WmTIe",RangeChoiceActive:"StockDetail_RangeChoiceActive__2sJev",head:"StockDetail_head__2vXh0",headline:"StockDetail_headline__1L2PQ",logo:"StockDetail_logo__2E6kz",trade:"StockDetail_trade__2XUmm",tradeTitle:"StockDetail_tradeTitle__3TRAu",type:"StockDetail_type__2eGcZ",order:"StockDetail_order__2i9g7",quantityInput:"StockDetail_quantityInput__29qQJ",orderType:"StockDetail_orderType__XaBqn",price:"StockDetail_price__2zRkK",submit:"StockDetail_submit___sLWv",submitButton:"StockDetail_submitButton__3zP6y",position:"StockDetail_position__Lq_rB",positionTitle:"StockDetail_positionTitle__1TByE",positionBody:"StockDetail_positionBody__XbBqN",positionItem:"StockDetail_positionItem__37Xa3",stats:"StockDetail_stats__TRvuv",statsTitle:"StockDetail_statsTitle__Zhzxu",statsBody:"StockDetail_statsBody__3xefJ",statsItem:"StockDetail_statsItem__5Bp-X",statsProp:"StockDetail_statsProp__35Ugd",news:"StockDetail_news__3KMX9",NewsHead:"StockDetail_NewsHead__2xpGr"}},100:function(e,t,a){e.exports={News:"News_News__3C2Iw"}},101:function(e,t,a){e.exports={Loader:"Spinner_Loader__3Uv3D",load1:"Spinner_load1__1C1l-"}},102:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__2CZZv"}},106:function(e,t,a){e.exports=a(234)},111:function(e,t,a){},18:function(e,t,a){e.exports={Dashboard:"Dashboard_Dashboard__2rlaM",welcome:"Dashboard_welcome__2KGTx",position:"Dashboard_position__1PwG0",buyingpower:"Dashboard_buyingpower__1ghO9",buyingpowertext:"Dashboard_buyingpowertext__1S__r",stocks:"Dashboard_stocks__1VFFW",orders:"Dashboard_orders__27uTM"}},22:function(e,t,a){e.exports={Stock:"Stock_Stock__3CubI",symbol:"Stock_symbol__1d39R",price:"Stock_price__3APa3",change:"Stock_change__VJt6e",change_period:"Stock_change_period__lzEtT",shares:"Stock_shares__1cO2L"}},23:function(e,t,a){e.exports={Input:"Input_Input__1nuLb",Label:"Input_Label__9R022",InputElement:"Input_InputElement__UwCin"}},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),l=a.n(o),c=(a(111),a(8)),i=a(20),s=a(55),u=a.n(s),m=a(84),d=a.n(m),p=function(e){return r.a.createElement("div",{onClick:e.drawerToggleClicked,className:d.a.DrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},g=a(85),h=a.n(g),f=a(86),v=a.n(f),E=function(e){return r.a.createElement("div",{className:h.a.Logo,style:{height:e.height}},r.a.createElement("img",{src:v.a,alt:"Stock Logo"}))},b=a(12),k=a(56),S=a.n(k),_=function(e){return r.a.createElement("li",{className:S.a.NavItem},r.a.createElement(b.c,{to:e.link,exact:!0,activeClassName:S.a.active},e.children))},y=a(88),w=a.n(y),I=a(5),N=a(14),O=a.n(N),P=function(){return O.a.create({baseURL:"http://localhost:8000"})},D=function(e){return{type:"auth_success",authData:e}},C=function(e){return{type:"auth_fail",error:e}},j=function(){return localStorage.removeItem("username"),localStorage.removeItem("userId"),localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),localStorage.removeItem("expirationDate"),{type:"logout"}},L=function(){return function(e,t){var a=t().portfolio.stocks,n=t().market.marketStocks,r=[];if(a.length>0){var o=!0,l=!1,c=void 0;try{for(var i,s=function(){var e=i.value;r=r.concat(n.filter(function(t){return Object.keys(t)[0].toLocaleLowerCase()==e.symbol.toLocaleLowerCase()}))},u=a[Symbol.iterator]();!(o=(i=u.next()).done);o=!0)s()}catch(m){l=!0,c=m}finally{try{o||null==u.return||u.return()}finally{if(l)throw c}}}e(function(e){return{type:"getUserHomeStocks",u:e}}(r))}},x=(a(139),a(90)),A=a.n(x),T=Object(I.b)(function(e){return{isLoggedIn:e.auth.isLoggedIn}},function(e){return{onLogout:function(){return e(j())}}})(function(e){var t=r.a.createElement(_,{link:"/auth"},"Sign In"),a=null,n=null;return e.isLoggedIn&&(a=r.a.createElement(_,{link:"/dashboard"},"Account"),t=r.a.createElement(_,{link:"/logout"},"Logout"),n=r.a.createElement(_,{link:"/profile"},"Profile")),r.a.createElement("ul",{className:w.a.NavigationItems},r.a.createElement(_,{link:"/"},"Home"),a,n,t)}),U=function(e){return r.a.createElement("header",{className:u.a.Topbar},r.a.createElement(p,{drawerToggleClicked:e.drawerToggleClicked}),r.a.createElement(E,{height:"75%"}),r.a.createElement("nav",{className:u.a.DesktopOnly},r.a.createElement(T,null)))},B=a(59),q=a.n(B),V=a(91),F=a.n(V),R=a(22),H=a.n(R),G=Object(i.f)(function(e){var t=e.stock,a=e.stock.latestPrice>e.stock.open,n=t.close-t.open,o=t.extendedPrice-t.close;return n=n>=0?"+$"+n.toFixed(2):"-$"+-1*n.toFixed(2),o=o>=0?"+$"+o.toFixed(2):"-$"+-1*o.toFixed(2),r.a.createElement("div",{className:H.a.Stock,stock:t,onClick:function(){e.history.push("stocks/"+t.symbol)}},r.a.createElement("div",{className:H.a.symbol},t.symbol),r.a.createElement("div",{className:H.a.price,style:{backgroundColor:a?"cyan":"red"}},"$",t.latestPrice.toLocaleString()),r.a.createElement("div",{className:H.a.change},r.a.createElement("div",{className:H.a.change_period},n.toLocaleString()," Today"),r.a.createElement("div",{className:H.a.change_period},o.toLocaleString()," After Hours")))}),M=Object(I.b)(function(e){return{marketStocks:e.market.marketStocks,totalValue:e.portfolio.totalValue}},function(e){return{}})(function(e){var t=null;return e.stocks.length>0&&(t=r.a.createElement("ul",{className:F.a.Stocks},e.stocks.map(function(e){return r.a.createElement(G,{key:Object.keys(e)[0],stock:Object.values(e)[0].quote})}))),r.a.createElement(r.a.Fragment,null,t)}),z=Object(I.b)(function(e){return{marketStocks:e.market.marketStocks,totalValue:e.portfolio.totalValue,userStocks:e.portfolio.stocks,isAuthenticated:e.auth.isLoggedIn,userId:e.auth.userId,buyingPower:e.portfolio.buyingPower,userRealStocks:e.portfolio.realUserStocks}},function(e){return{getMarketStocks:function(){return e(function(e){O.a.get("https://api.iextrading.com/1.0/stock/market/batch?symbols=aapl,fb,tsla,goog,baba,twtr,msft,ba,intc,snap,nflx,techy&types=quote&range=1d&last=5").then(function(t){e({type:"fetchMarketStocks",marketStocks:t.data})}).catch(function(e){return console.log(e)})})},checkAuthState:function(){return e({type:"checkAuthState"})},getUserStocks:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){null!==e&&P().get("/stocks/"+e,t).then(function(e){a({type:"getUserStocks",stocks:e.data})}).catch(function(e){return console.log(e)})}}(t))},getBuyingPower:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){null!==e&&null!==localStorage.getItem("token")&&P().get("/getbuyingpower/".concat(e),t).then(function(e){a({type:"getUserBuyingPower",data:e.data})}).catch(function(e){return console.log(e)})}}(t))},getTotalValue:function(){return e(function(e,t){var a=t().portfolio.stocks,n=t().market.marketStocks,r=0,o=!0,l=!1,c=void 0;try{for(var i,s=a[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var u=i.value,m=!0,d=!1,p=void 0;try{for(var g,h=n[Symbol.iterator]();!(m=(g=h.next()).done);m=!0){var f=g.value;if(u.symbol.toLowerCase()==Object.keys(f)[0].toLowerCase()){r+=u.shares*Object.values(f)[0].quote.latestPrice;break}}}catch(v){d=!0,p=v}finally{try{m||null==h.return||h.return()}finally{if(d)throw p}}}}catch(v){l=!0,c=v}finally{try{o||null==s.return||s.return()}finally{if(l)throw c}}e({type:"getTotalValue",data:r})})},getUserHomeStocks:function(){return e(L())},initTrade:function(){return e({type:"initTrade"})}}})(function(e){Object(n.useEffect)(function(){e.checkAuthState()},[]),Object(n.useEffect)(function(){e.getMarketStocks(),e.getUserStocks(localStorage.getItem("userId")),e.getBuyingPower(localStorage.getItem("userId"))},[]),Object(n.useEffect)(function(){e.getTotalValue(e.userStocks,e.marketStocks)},[e.userStocks]),Object(n.useEffect)(function(){e.getUserHomeStocks()},[e.userStocks]),Object(n.useEffect)(function(){e.initTrade()},[]);var t=null;e.isAuthenticated||(t=r.a.createElement("p",null,"Just ",r.a.createElement(b.b,{to:"/auth"},"SIGN IN")," and play, explore your talents hidden deep inside you, maybe you are the next wolf of the Wall Street!"));var a=e.userStocks.length>0?"Your Stocks":"Your stocks bucket is empty";return r.a.createElement("div",{className:q.a.Home},r.a.createElement("div",null,r.a.createElement("p",null,"This is a stock trade simulator website.  "),r.a.createElement("p",null,"Each registered user will be given an initial $10,000 virtual dollars to trade the stocks. All the datas displayed here are real-time datas of stock market."),t,r.a.createElement("h2",null,"Your Position: $",e.isAuthenticated?(e.totalValue+e.buyingPower).toLocaleString():"10000".toLocaleString()),r.a.createElement("h2",null,a)),e.isAuthenticated?r.a.createElement(M,{stocks:e.userRealStocks}):null,r.a.createElement("h2",null,"Market"),r.a.createElement(M,{stocks:e.marketStocks}),r.a.createElement("a",{href:"https://iexcloud.io",target:"_blank",className:q.a.iexUrl},"Data provided by IEX Cloud"))}),W=a(18),$=a.n(W),X=a(92),J=a.n(X),Y=a(7),K=a.n(Y),Q=function(e){return r.a.createElement("div",{className:K.a.Order},r.a.createElement("div",{className:K.a.item},r.a.createElement("div",{className:K.a.statsProp},"Stock Symbol:"),null==e.order?null:r.a.createElement("div",null,e.order.symbol.toUpperCase())),r.a.createElement("div",{className:K.a.item},r.a.createElement("div",{className:K.a.statsProp},"Execution Date:"),r.a.createElement("div",null,e.order.date.substring(0,10))),r.a.createElement("div",{className:K.a.item},r.a.createElement("div",{className:K.a.statsProp},"Type: "),r.a.createElement("div",null,1==e.order.type?"Purchase":"Sell")),r.a.createElement("div",{className:K.a.item},r.a.createElement("div",{className:K.a.statsProp}," Execution Price:"),r.a.createElement("div",null,"$",e.order.price.toLocaleString())),r.a.createElement("div",{className:K.a.item},r.a.createElement("div",{className:K.a.statsProp},"Shares:"),r.a.createElement("div",null,e.order.shares)),r.a.createElement("div",{className:K.a.item},r.a.createElement("div",{className:K.a.statsProp},"Total Value:"),r.a.createElement("div",null,(e.order.shares*e.order.price).toLocaleString())),r.a.createElement("hr",{className:K.a.hr}))},Z=function(e){var t=null;return e.orders.length>0&&(t=r.a.createElement("ul",{className:J.a.Orders},e.orders.map(function(e){return r.a.createElement(Q,{key:e.id,order:e})}))),r.a.createElement(r.a.Fragment,null,t)},ee=Object(I.b)(function(e){return{marketStocks:e.market.marketStocks,totalValue:e.portfolio.totalValue,userStocks:e.portfolio.stocks,isAuthenticated:e.auth.isLoggedIn,userId:e.auth.userId,buyingPower:e.portfolio.buyingPower,userRealStocks:e.portfolio.realUserStocks,orders:e.portfolio.orders}},function(e){return{getUserHomeStocks:function(){return e(L())},getUserOrders:function(){return e(function(){var e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},t=localStorage.getItem("userId");return function(a){P().get("/orders/".concat(t),e).then(function(e){a({type:"getOrders",data:e.data})}).catch(function(e){return console.log(e)})}}())},initTrade:function(){return e({type:"initTrade"})}}})(function(e){return Object(n.useEffect)(function(){e.getUserHomeStocks()},[e.userStocks]),Object(n.useEffect)(function(){e.getUserOrders()},[]),Object(n.useEffect)(function(){e.getUserOrders()},[e.userStocks]),Object(n.useEffect)(function(){e.initTrade()},[]),r.a.createElement("div",{className:$.a.Dashboard},r.a.createElement("div",{className:$.a.position},r.a.createElement("h2",null,"Total Value"),r.a.createElement("h2",null,"$",(e.totalValue+e.buyingPower).toLocaleString())),r.a.createElement("div",{className:$.a.buyingpower},r.a.createElement("div",{className:$.a.buyingpowertext},"BUYING POWER"),r.a.createElement("div",null,"$",e.buyingPower.toLocaleString())),r.a.createElement("div",{className:$.a.stocks},r.a.createElement("h2",null,"Your Stocks"),r.a.createElement(M,{stocks:e.userRealStocks})),r.a.createElement("div",{className:$.a.orders},r.a.createElement("h2",null,"Pending Orders")),r.a.createElement("div",{className:$.a.orders},r.a.createElement("h2",null,"Past Orders"),r.a.createElement(Z,{orders:e.orders})))}),te=a(24),ae=a(93),ne=a(94),re=a(104),oe=a(95),le=a(105),ce=a(23),ie=a.n(ce),se=function(e){var t=null;switch(e.inputtype){case"input":t=r.a.createElement("input",{className:ie.a.InputElement,type:e.type,name:e.name,required:e.required,value:e.value,onChange:e.changed});break;case"textarea":t=r.a.createElement("textarea",{className:ie.a.InputElement,type:e.type,name:e.name,required:e.required,value:e.value,onChange:e.changed});break;case"select":t=r.a.createElement("select",{className:ie.a.InputElement,value:e.value,onChange:e.changed},e.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({className:ie.a.InputElement},e))}return r.a.createElement("div",{className:ie.a.Input},r.a.createElement("label",{className:ie.a.Label},e.label),t)},ue=a(96),me=a.n(ue),de=a(6),pe=a.n(de),ge=function(e){var t=e.formErrors;return r.a.createElement("div",{className:pe.a.FormErrors},Object.keys(t).map(function(e,a){return t[e].length>0?r.a.createElement("p",{key:a,style:{color:"red"}},e," ",t[e]):""}))},he=function(e){function t(){var e,a;Object(ae.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(re.a)(this,(e=Object(oe.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",confirmation:"",formErrors:{username:"",email:"",password:"",confirmation:""},usernameValid:!1,emailValid:!1,passwordValid:!1,confirmationValid:!1,signUpFormValid:!1,signInFormValid:!1,isSignup:!0,isSignin:!1},a.handleInputChange=function(e,t){a.setState(Object(te.a)({},e.target.name,e.target.value)),a.validateField(t,e.target.value)},a.validateField=function(e,t){var n=a.state.formErrors,r=a.state.usernameValid,o=a.state.emailValid,l=a.state.passwordValid,c=a.state.confirmationValid;switch(e){case"username":r=t.length>=3&&t.length<=12,n.name=r?"":" length range should be between 3~12";break;case"email":o=me()(t.trim()),n.email=o?"":" is invalid";break;case"password":l=t.length>=6&&t.length<=12,n.password=l?"":" length range should be between 6~12";break;case"confirmation":c=t===a.state.password,n.confirmation=c?"":" not match password!"}var i=r&&o&&l&&c,s=o&&l;a.setState({formErrors:n,usernameValid:r,emailValid:o,passwordValid:l,confirmationValid:c,signUpFormValid:i,signInFormValid:s})},a.handleFormSubmit=function(e){e.preventDefault(),a.state.isSignin&&a.props.onSignIn(a.state.email,a.state.password),a.state.isSignup&&a.props.onSignUp(a.state.username,a.state.email,a.state.password)},a.switchSignup=function(){a.setState({isSignin:!1,isSignup:!0})},a.switchSignin=function(){a.setState({isSignin:!0,isSignup:!1})},a}return Object(le.a)(t,e),Object(ne.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(se,{inputtype:"input",type:"text",name:"username",label:"Username",required:!0,changed:function(t){e.handleInputChange(t,"username")},value:this.state.username}),r.a.createElement(se,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.handleInputChange(t,"email")},value:this.state.email}),r.a.createElement(se,{inputtype:"input",type:"password",name:"password",label:"Password",required:!0,changed:function(t){e.handleInputChange(t,"password")},value:this.state.password}),r.a.createElement(se,{inputtype:"input",type:"password",name:"confirmation",label:"Password Confirmation",required:!0,changed:function(t){e.handleInputChange(t,"confirmation")},value:this.state.confirmation}),r.a.createElement("button",{className:pe.a.SignUp,disabled:!this.state.signUpFormValid},"Sign Up"));this.state.isSignup||(t=r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(se,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.handleInputChange(t,"email")},value:this.state.email}),r.a.createElement(se,{inputtype:"input",type:"password",name:"password",label:"Password",required:!0,changed:function(t){e.handleInputChange(t,"password")},value:this.state.password}),r.a.createElement("button",{className:pe.a.SignUp,disabled:!this.state.signInFormValid},"Sign In")));var a=null;this.props.error&&(a=r.a.createElement("p",null,this.props.error.response.data.error));var n=[];n=this.state.isSignup?[pe.a.SwitchButton,pe.a.SwitchSignup,pe.a.SwitchActive]:[pe.a.SwitchButton,pe.a.SwitchSignup];var o=[];o=this.state.isSignin?[pe.a.SwitchButton,pe.a.SwitchSignin,pe.a.SwitchActive]:[pe.a.SwitchButton,pe.a.SwitchSignin];var l=null;return this.props.isLoggedIn&&(l=this.props.buildingBurger?r.a.createElement(i.a,{to:"/checkout"}):r.a.createElement(i.a,{to:"/"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:pe.a.Switch},l,r.a.createElement("button",{onClick:this.switchSignup,className:n.join(" ")},"Sign Up"),r.a.createElement("button",{onClick:this.switchSignin,className:o.join(" ")},"Sign In")),r.a.createElement("div",{className:pe.a.ContactData},r.a.createElement(ge,{formErrors:this.state.formErrors}),t,a))}}]),t}(n.Component),fe=Object(I.b)(function(e){return{token:e.auth.token,userId:e.auth.userId,error:e.auth.error,isLoggedIn:e.auth.isLoggedIn}},function(e){return{onSignIn:function(t,a){return e(function(e,t){var a={email:e,password:t};return function(e){P().post("/login",a).then(function(t){localStorage.setItem("userId",t.data.userId),localStorage.setItem("username",t.data.username),localStorage.setItem("email",t.data.email),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",t.data.isAdmin),localStorage.setItem("expirationDate",new Date(t.data.expirationDate)),e(D(t.data))}).catch(function(t){e(C(t))})}}(t,a))},onSignUp:function(t,a,n){return e(function(e,t,a){var n={username:e,email:t,password:a};return function(e){P().post("/register",n).then(function(t){localStorage.setItem("userId",t.data.userId),localStorage.setItem("username",t.data.username),localStorage.setItem("email",t.data.email),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",t.data.isAdmin),localStorage.setItem("expirationDate",new Date(t.data.expirationDate)),e(D(t.data))}).catch(function(t){e(C(t))})}}(t,a,n))}}})(he),ve=Object(I.b)(null,function(e){return{onLogout:function(){return e(j())}}})(function(e){return Object(n.useEffect)(function(){e.onLogout()}),r.a.createElement(i.a,{to:"/"})}),Ee=a(1),be=a.n(Ee),ke=a(97),Se=a(99),_e=a.n(Se),ye=function(e){var t=e.chartData,a=[],n=[];t.forEach(function(e){a.push(e.label),n.push(e.close)});var o={labels:a,datasets:[{label:e.symbol,fill:!1,lineTension:.1,borderColor:"rgba(75,192,192,1)",data:n}]};return r.a.createElement("div",{className:_e.a.LineGraph},r.a.createElement(ke.a,{data:o,width:400,height:300,options:{maintainAspectRatio:!0}}))},we=a(33),Ie=a.n(we),Ne=function(e){var t=e.newsItem,a=new Date(t.datetime);return r.a.createElement("div",{className:Ie.a.NewsItem},r.a.createElement("div",{className:Ie.a.url},r.a.createElement("a",{href:t.url,target:"_blank"}," ",r.a.createElement("h3",null,t.headline)," ")),r.a.createElement("div",{className:Ie.a.source},"Source: ",r.a.createElement("em",null,t.source),", ",a.toString().substring(4,24)),r.a.createElement("div",{className:Ie.a.summary},r.a.createElement("p",null,t.summary)))},Oe=a(100),Pe=a.n(Oe),De=function(e){var t=e.news;return r.a.createElement("div",{className:Pe.a.News},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("hr",null),r.a.createElement(Ne,{newsItem:e}))}))},Ce=a(101),je=a.n(Ce),Le=function(e){return r.a.createElement("div",{className:je.a.Loader},"Loading...")},xe=Object(I.b)(function(e){return{quote:e.market.quote,news:e.market.stockNews,chart:e.market.chart,userStocks:e.portfolio.stocks,orders:e.portfolio.orders,tradingSuccess:e.stocks.tradingSuccess,tradeLoading:e.portfolio.tradeLoading,buyingPower:e.portfolio.buyingPower}},function(e){return{getSingleStock:function(t,a,n){return e(function(e,t,a){return function(n){O.a.all([O.a.get("/stock/".concat(e,"/quote")),O.a.get("https://cloud.iexapis.com/stable/stock/".concat(e,"/news?token=pk_7b1de8e9459d4c9999bac688f583a71c")),O.a.get("/stock/".concat(e,"/chart/").concat(t,"?chartInterval=").concat(a))]).then(O.a.spread(function(e,t,a){n({type:"getStockDetail",stockDetails:[e.data,t.data,a.data]})})).catch(function(e){alert(e)})}}(t,a,n))},placeOrder:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){a({type:"startTrading"}),P().post("/stocks/update",e,t).then(function(e){alert("Order is placed!"),a({type:"getUserBuyingPower",data:e.data}),a({type:"placeOrder"})}).catch(function(e){a(function(e){return{type:"placeOrderFail",error:e}}(e))})}}(t))}}})(Object(i.f)(function(e){var t=Object(n.useState)("1d"),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(5),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)("1d"),g=Object(c.a)(p,2),h=g[0],f=g[1],v=Object(n.useState)("buy"),E=Object(c.a)(v,2),b=E[0],k=E[1],S=Object(n.useState)(0),_=Object(c.a)(S,2),y=_[0],w=_[1],I=Object(n.useState)("Market"),N=Object(c.a)(I,2),O=N[0],P=N[1],D=Object(n.useState)(!1),C=Object(c.a)(D,2),j=C[0],L=C[1],x=e.match.params.symbol;function A(e){if(e){for(var t=e,a=0;t>=1e3;)t/=1e3,a++;return t=t.toPrecision(3),t+=["","K","M","B","T"][a]}}function T(e){l(e),f(e),d("1d"==e?5:null)}Object(n.useEffect)(function(){e.getSingleStock(x,o,m)},[o]);var U=null,B="https://storage.googleapis.com/iex/api/logos/"+x.toUpperCase()+".png";e.quote.latestPrice&&(U=r.a.createElement("div",{className:be.a.Name_Price_Chart},r.a.createElement("div",{className:be.a.head},r.a.createElement("div",{className:be.a.headline},e.quote.companyName),r.a.createElement("div",{className:be.a.headline,style:{fontFamily:"'Lora', serif"}},"$",e.quote.latestPrice.toLocaleString())),r.a.createElement("div",{className:be.a.logo},r.a.createElement("img",{src:B})),r.a.createElement("ul",{className:be.a.rangeChoice},r.a.createElement("button",{onClick:function(){return T("1d")},className:"1d"==h?be.a.RangeChoiceActive:null},"1d"),r.a.createElement("button",{onClick:function(){return T("5d")},className:"5d"==h?be.a.RangeChoiceActive:null},"5d"),r.a.createElement("button",{onClick:function(){return T("1m")},className:"1m"==h?be.a.RangeChoiceActive:null},"1m"),r.a.createElement("button",{onClick:function(){return T("3m")},className:"3m"==h?be.a.RangeChoiceActive:null},"3m"),r.a.createElement("button",{onClick:function(){return T("6m")},className:"6m"==h?be.a.RangeChoiceActive:null},"6m"),r.a.createElement("button",{onClick:function(){return T("1y")},className:"1y"==h?be.a.RangeChoiceActive:null},"1y"),r.a.createElement("button",{onClick:function(){return T("2y")},className:"2y"==h?be.a.RangeChoiceActive:null},"2y")),r.a.createElement("hr",null),r.a.createElement(ye,{symbol:x,chartData:e.chart})));var q=null;if(e.userStocks.length>0){var V=e.userStocks.find(function(e){return e.symbol.toLowerCase()==x.toLowerCase()});q=void 0!=V?r.a.createElement("div",{className:be.a.position},r.a.createElement("div",{className:be.a.positionTitle},"Your Position"),r.a.createElement("div",{className:be.a.positionBody},r.a.createElement("div",{className:be.a.positionItem},r.a.createElement("div",{className:be.a.statsProp},"SHARES"),r.a.createElement("div",null,V.shares)),r.a.createElement("div",{className:be.a.positionItem},r.a.createElement("div",{className:be.a.statsProp},"EQUITY"),r.a.createElement("div",null,"$",e.quote.latestPrice?parseFloat(V.shares*e.quote.latestPrice).toFixed(2).toLocaleString():null)),r.a.createElement("div",{className:be.a.positionItem},r.a.createElement("div",{className:be.a.statsProp},"AVG COST"),r.a.createElement("div",null)),r.a.createElement("div",{className:be.a.positionItem},r.a.createElement("div",{className:be.a.statsProp},"TODAY'S RETURN"),r.a.createElement("div",null,"$",(V.shares*(e.quote.latestPrice-e.quote.previousClose)).toFixed(2).toLocaleString())),r.a.createElement("div",{className:be.a.positionItem},r.a.createElement("div",{className:be.a.statsProp},"TOTAL RETURN"),r.a.createElement("div",null)))):null}var F=function(e){k(e.target.value)},R=function(e){P(e.target.value)},H=null;e.tradingSuccess&&(H=r.a.createElement(i.a,{to:"/"}));var G=null;return G=j?r.a.createElement(Le,null):r.a.createElement("div",{className:be.a.trade},r.a.createElement("div",{className:be.a.tradeTitle},"Trade"),r.a.createElement("div",{className:be.a.type},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"type",value:"buy",checked:"buy"===b,onChange:F}),"Buy"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"type",value:"sell",checked:"sell"===b,onChange:F}),"Sell")),r.a.createElement("div",{className:be.a.order},r.a.createElement("label",null,"Quantity ",r.a.createElement("input",{type:"text",name:"quantity",value:y,className:be.a.quantityInput,onChange:function(e){w(e.target.value)}})),r.a.createElement("label",null,"Order Type ",r.a.createElement("select",{onChange:R,className:be.a.orderType,value:O},r.a.createElement("option",{value:"Limit",disabled:!0},"Limit Price"),r.a.createElement("option",{value:"Market"},"Market Price"),r.a.createElement("option",{value:"Stop",disabled:!0},"Stop"),r.a.createElement("option",{value:"Stop Limit",disabled:!0},"Stop Limit")))),r.a.createElement("div",{className:be.a.price},r.a.createElement("label",null,"Limit Price ",r.a.createElement("input",{disabled:!0,type:"text",name:"limitprice",className:be.a.quantityInput})),r.a.createElement("label",null,"Stop Price ",r.a.createElement("input",{disabled:!0,type:"text",name:"stopprice",className:be.a.quantityInput})),r.a.createElement("label",null,"Expiration ",r.a.createElement("select",{onChange:R,className:be.a.orderType,value:O},r.a.createElement("option",{value:"Day"},"Day"),r.a.createElement("option",{value:"GT90"},"GT90"),r.a.createElement("option",{value:"PreMarket"},"Pre Market"),r.a.createElement("option",{value:"AfterMarket"},"After Market")))),r.a.createElement("div",{className:be.a.submit},r.a.createElement("button",{onClick:function(){if(Number.isInteger(+y))if(+y<1)alert("Please enter an integer larger than 0");else if("buy"==b){if(e.buyingPower<+y*e.quote.latestPrice)return alert("No enough buying power!");L(!0);var t={userId:localStorage.getItem("userId"),symbol:x.toLowerCase(),shares:y,operation:b};e.placeOrder(t)}else{var a=e.userStocks.find(function(e){return e.symbol.toLowerCase()==x.toLowerCase()});if(+y>a.shares)return alert("No enough shares to sell!");L(!0);var n={userId:localStorage.getItem("userId"),symbol:x.toLowerCase(),shares:y,operation:b};e.placeOrder(n)}else alert("Please enter an integer")},className:be.a.submitButton},"Submit Order"))),r.a.createElement("div",{className:be.a.StockDetail},H,r.a.createElement("div",{className:be.a.backbutton,onClick:function(){e.history.goBack()}},"\u276e Back"),U,G,q,r.a.createElement("div",{className:be.a.stats},r.a.createElement("div",{className:be.a.statsTitle},"Stats"),r.a.createElement("div",{className:be.a.statsBody},r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"OPEN"),r.a.createElement("div",null,e.quote.open)),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"VOLUME"),r.a.createElement("div",null,A(e.quote.latestVolume))),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"HIGH"),r.a.createElement("div",null,e.quote.high)),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"AVG VOL"),r.a.createElement("div",null,A(e.quote.avgTotalVolume))),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"LOW"),r.a.createElement("div",null,e.quote.low)),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"MKT CAP"),r.a.createElement("div",null,A(e.quote.marketCap))),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"52 WK HIGH"),r.a.createElement("div",null,e.quote.week52High)),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"P/E RATIO"),r.a.createElement("div",null,e.quote.peRatio)),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"52 WK LOW"),r.a.createElement("div",null,e.quote.week52Low)),r.a.createElement("div",{className:be.a.statsItem},r.a.createElement("div",{className:be.a.statsProp},"EXTENDED PRICE"),r.a.createElement("div",null,e.quote.extendedPrice)))),r.a.createElement("div",{className:be.a.news},r.a.createElement("div",{className:be.a.NewsHead},"News"),r.a.createElement(De,{news:e.news})))})),Ae=a(34),Te=a.n(Ae),Ue=a(102),Be=a.n(Ue),qe=function(e){return e.show?r.a.createElement("div",{className:Be.a.Backdrop,onClick:e.clickBackdrop}):null},Ve=function(e){var t=[Te.a.SideDrawer,Te.a.Close];return e.show&&(t=[Te.a.SideDrawer,Te.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{show:e.show,clickBackdrop:e.sideDrawerClicked}),r.a.createElement("div",{className:t.join(" "),onClick:e.sideDrawerClicked},r.a.createElement(E,{height:"10%"}),r.a.createElement(T,null)))},Fe=a(27),Re=a.n(Fe),He=Object(I.b)(function(e){return{uploadingAvatar:e.profile.uploading,avatarUrl:e.profile.avatarPath,blogs:e.profile.blogs}},function(e){return{getProfile:function(){return e(function(){var e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(t){P().get("/profile/"+localStorage.getItem("userId"),e).then(function(e){Object.keys(e.data).length>0&&t({type:"getProfile",data:e.data})}).catch(function(e){console.log(e)})}}())},imageUpload:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){a({type:"startUploading"}),P().post("/upload/avatar",e,t).then(function(e){a({type:"uploadImageSuccess",data:e.data})}).catch(function(e){console.log(e),a(function(e){return{type:"uploadImageFail",err:e}}(e))})}}(t))},blogUpload:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){a({type:"startUploading"}),P().post("/upload/blog",e,t).then(function(e){a({type:"uploadBlogSuccess"})}).catch(function(e){console.log(e),a(function(e){return{type:"uploadBlogFail",err:e}}(e))})}}(t))},getBlogs:function(){return e(function(){var e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(t){P().get("/blogs",e).then(function(e){t({type:"getBlogs",data:e.data})}).catch(function(e){console.log(e)})}}())},downloadBlog:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token"),responseType:"blob"}};return function(a){P().get("/blogs/"+e,t).then(function(e){var t=new Blob([e.data],{type:"application/pdf"});A.a.saveAs(t,"some.pdf"),a({type:"download"})}).catch(function(e){console.log(e)})}}(t))}}})(function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(null),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(null),p=Object(c.a)(d,2),g=p[0],h=p[1];Object(n.useEffect)(function(){e.getProfile()},[e.avatarUrl]),Object(n.useEffect)(function(){e.getBlogs()},[e.uploadingAvatar]);var f=r.a.createElement("div",{className:Re.a.avatar},r.a.createElement("input",{type:"file",name:"avatar",onChange:function(e){l(e.target.files[0])}}),r.a.createElement("button",{type:"button",onClick:function(){var t=new FormData;t.append("avatar",o),e.imageUpload(t)}},"Upload"));null!=e.avatarUrl&&(f=r.a.createElement("div",null,r.a.createElement("img",{src:e.avatarUrl})));return r.a.createElement("div",{className:Re.a.Profile},e.uploadingAvatar?r.a.createElement(Le,null):null,f,r.a.createElement("div",{className:Re.a.blogs},r.a.createElement("div",{className:Re.a.blogs_upload},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",name:"name",onChange:function(e){h(e.target.value)}}),r.a.createElement("input",{type:"file",name:"blog",onChange:function(e){m(e.target.files[0])}}),r.a.createElement("button",{type:"button",onClick:function(){var t=new FormData;t.append("name",g),t.append("blog",u),e.blogUpload(t)}},"Upload")),r.a.createElement("div",{className:Re.a.blogs_list},null)))}),Ge=Object(I.b)(function(e){return{isAuthenticated:e.auth.isLoggedIn}})(function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],l=a[1],s=r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:z}),r.a.createElement(i.b,{path:"/auth",exact:!0,component:fe}),r.a.createElement(i.b,{path:"/stocks/:symbol",exact:!0,component:xe}),r.a.createElement(i.a,{to:"/"}));return e.isAuthenticated&&(s=r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/stocks/:symbol",component:xe}),r.a.createElement(i.b,{path:"/",exact:!0,component:z}),r.a.createElement(i.b,{path:"/logout",component:ve}),r.a.createElement(i.b,{path:"/dashboard",component:ee}),r.a.createElement(i.b,{path:"/auth",component:fe}),r.a.createElement(i.b,{path:"/profile",component:He}),r.a.createElement(i.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(U,{drawerToggleClicked:function(){l(!o)}}),r.a.createElement(Ve,{show:o,sideDrawerClicked:function(){l(!1)}}),s)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Me=a(103),ze=a(21),We=a(2),$e={userId:null,username:null,email:null,token:null,expirationDate:null,isAdmin:!1,error:null,isLoggedIn:!1,buyingPower:0},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_fail":return Object(We.a)({},e,{error:t.error});case"auth_success":return Object(We.a)({},e,{userId:t.authData.userId,username:t.authData.username,email:t.authData.email,token:t.authData.idToken,isAdmin:t.authData.isAdmin,expirationDate:t.authData.expirationDate,isLoggedIn:!0,buyingPower:t.authData.buyingPower});case"logout":return Object(We.a)({},e,{username:null,email:null,token:null,expirationDate:null,isAdmin:!1,error:null,isLoggedIn:!1});case"checkAuthState":var a=localStorage.getItem("expirationDate"),n=new Date;return localStorage.getItem("token")?n>=a?(localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("isAdmin"),localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),Object(We.a)({},e,{userId:null,username:null,email:null,token:null,expirationDate:null,isAdmin:!1,error:null,isLoggedIn:!1})):Object(We.a)({},e,{userId:localStorage.getItem("userId"),token:localStorage.getItem("token"),username:localStorage.getItem("username"),email:localStorage.getItem("email"),expirationDate:localStorage.getItem("expirationDate"),isAdmin:localStorage.getItem("isAdmin"),isLoggedIn:!0}):e;default:return e}},Je={tradeLoading:!1,tradingSuccess:!1,error:null},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"initTrade":return Object(We.a)({},e,{tradeLoading:!1,tradingSuccess:!1});case"startTrading":return Object(We.a)({},e,{tradeLoading:!0,tradingSuccess:!1});case"placeOrder":return Object(We.a)({},e,{tradeLoading:!1,tradingSuccess:!0});case"placeOrderFail":return Object(We.a)({},e,{tradeLoading:!1,tradingSuccess:!1,error:t.error});default:return e}},Ke={totalValue:0,buyingPower:1e4,stocks:[],orders:[],realUserStocks:[]},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"getUserStocks":var a=t.stocks;return Object(We.a)({},e,{stocks:a});case"getUserBuyingPower":var n=t.data.buyingPower;return Object(We.a)({},e,{buyingPower:n});case"getTotalValue":var r=t.data;return Object(We.a)({},e,{totalValue:r});case"getUserHomeStocks":var o=t.u;return Object(We.a)({},e,{realUserStocks:o});case"getOrders":return Object(We.a)({},e,{orders:t.data});default:return e}},Ze={marketStocks:[],quote:{},stockNews:[],chart:[],topNews:[]},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchMarketStocks":var a=t.marketStocks,n=[];for(var r in a)n.push(Object(te.a)({},r,a[r]));return Object(We.a)({},e,{marketStocks:n});case"getStockDetail":var o=t.stockDetails;return Object(We.a)({},e,{quote:o[0],stockNews:o[1],chart:o[2]});default:return e}},tt={avatarPath:null,uploading:!1,blogs:null,error:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"startUploading":return Object(We.a)({},e,{uploading:!0});case"uploadImageSuccess":return Object(We.a)({},e,{avatarPath:"http://localhost:8000/"+t.data.file,uploading:!1});case"uploadImageFail":return Object(We.a)({},e,{uploading:!1,error:t.err});case"uploadBlogSuccess":return Object(We.a)({},e,{uploading:!1});case"uploadBlogFail":return Object(We.a)({},e,{uploading:!1,error:t.err});case"getProfile":return Object(We.a)({},e,{avatarPath:"http://localhost:8000/"+t.data.profile.avatar});case"getBlogs":return Object(We.a)({},e,{blogs:t.data});case"download":return Object(We.a)({},e);default:return e}},nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ze.d,rt=Object(ze.c)({stocks:Ye,auth:Xe,market:et,portfolio:Qe,profile:at}),ot=Object(ze.e)(rt,nt(Object(ze.a)(Me.a)));O.a.defaults.baseURL="https://api.iextrading.com/1.0",l.a.render(r.a.createElement(I.a,{store:ot},r.a.createElement(b.a,null,r.a.createElement(Ge,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,t,a){e.exports={Profile:"Profile_Profile__28kEB",avatar:"Profile_avatar__2raN4",blogs:"Profile_blogs__3xL-8",blogs_upload:"Profile_blogs_upload__16UjD",blogs_list:"Profile_blogs_list__2vJGY"}},33:function(e,t,a){e.exports={NewsItem:"NewsItem_NewsItem__1e1gG",url:"NewsItem_url__RP8fB",source:"NewsItem_source__eP5qK",summary:"NewsItem_summary__33Uye"}},34:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__1VwFf",Open:"SideDrawer_Open__14_Go",Close:"SideDrawer_Close__3Arp4"}},55:function(e,t,a){e.exports={Topbar:"Topbar_Topbar__tJBUu",DesktopOnly:"Topbar_DesktopOnly__1n1_w"}},56:function(e,t,a){e.exports={NavItem:"NavItem_NavItem__3_fL9",active:"NavItem_active__3-OL9"}},59:function(e,t,a){e.exports={Home:"Home_Home__32WxU",iexUrl:"Home_iexUrl__1kFgG"}},6:function(e,t,a){e.exports={Switch:"Auth_Switch__12Xsc",SwitchButton:"Auth_SwitchButton__21Li9",SwitchSignup:"Auth_SwitchSignup__1euas",SwitchSignin:"Auth_SwitchSignin__2upYT",SwitchActive:"Auth_SwitchActive__2gVUU",ContactData:"Auth_ContactData__2IRuC",SignUp:"Auth_SignUp__2zPYe",enable:"Auth_enable__2AcjZ"}},7:function(e,t,a){e.exports={Order:"Order_Order__2iaS1",item:"Order_item__doJ3-",statsProp:"Order_statsProp__wAGEe",hr:"Order_hr__1ng8K",stats:"Order_stats__1QBSA"}},84:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2LJbH"}},85:function(e,t,a){e.exports={Logo:"Logo_Logo__9UPuT"}},86:function(e,t,a){e.exports=a.p+"static/media/logo.d362671e.png"},88:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__WLGgD"}},91:function(e,t,a){e.exports={Stocks:"Stocks_Stocks__23hs0"}},92:function(e,t,a){},99:function(e,t,a){e.exports={LineGraph:"LineGraph_LineGraph__1S4wd"}}},[[106,1,2]]]);
//# sourceMappingURL=main.5c1638be.chunk.js.map