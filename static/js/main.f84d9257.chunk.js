(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={StockDetail:"StockDetail_StockDetail__CBAK_",backbutton:"StockDetail_backbutton__1A_HV",Name_Price_Chart:"StockDetail_Name_Price_Chart__3E6BW",rangeChoice:"StockDetail_rangeChoice__WmTIe",RangeChoiceActive:"StockDetail_RangeChoiceActive__2sJev",head:"StockDetail_head__2vXh0",headline:"StockDetail_headline__1L2PQ",logo:"StockDetail_logo__2E6kz",trade:"StockDetail_trade__2XUmm",tradeTitle:"StockDetail_tradeTitle__3TRAu",type:"StockDetail_type__2eGcZ",order:"StockDetail_order__2i9g7",quantityInput:"StockDetail_quantityInput__29qQJ",orderType:"StockDetail_orderType__XaBqn",price:"StockDetail_price__2zRkK",submit:"StockDetail_submit___sLWv",submitButton:"StockDetail_submitButton__3zP6y",position:"StockDetail_position__Lq_rB",positionTitle:"StockDetail_positionTitle__1TByE",positionBody:"StockDetail_positionBody__XbBqN",positionItem:"StockDetail_positionItem__37Xa3",stats:"StockDetail_stats__TRvuv",statsTitle:"StockDetail_statsTitle__Zhzxu",statsBody:"StockDetail_statsBody__3xefJ",statsItem:"StockDetail_statsItem__5Bp-X",statsProp:"StockDetail_statsProp__35Ugd",news:"StockDetail_news__3KMX9",NewsHead:"StockDetail_NewsHead__2xpGr"}},100:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__2CZZv"}},104:function(e,t,a){e.exports=a(231)},109:function(e,t,a){},18:function(e,t,a){e.exports={Dashboard:"Dashboard_Dashboard__2rlaM",welcome:"Dashboard_welcome__2KGTx",position:"Dashboard_position__1PwG0",buyingpower:"Dashboard_buyingpower__1ghO9",buyingpowertext:"Dashboard_buyingpowertext__1S__r",stocks:"Dashboard_stocks__1VFFW",orders:"Dashboard_orders__27uTM"}},22:function(e,t,a){e.exports={Stock:"Stock_Stock__3CubI",symbol:"Stock_symbol__1d39R",price:"Stock_price__3APa3",change:"Stock_change__VJt6e",change_period:"Stock_change_period__lzEtT",shares:"Stock_shares__1cO2L"}},23:function(e,t,a){e.exports={Input:"Input_Input__1nuLb",Label:"Input_Label__9R022",InputElement:"Input_InputElement__UwCin"}},231:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),l=a.n(o),c=(a(109),a(15)),s=a(20),i=a(54),u=a.n(i),m=a(83),d=a.n(m),p=function(e){return r.a.createElement("div",{onClick:e.drawerToggleClicked,className:d.a.DrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},g=a(84),h=a.n(g),E=a(85),v=a.n(E),k=function(e){return r.a.createElement("div",{className:h.a.Logo,style:{height:e.height}},r.a.createElement("img",{src:v.a,alt:"Stock Logo"}))},f=a(12),S=a(55),_=a.n(S),b=function(e){return r.a.createElement("li",{className:_.a.NavItem},r.a.createElement(f.c,{to:e.link,exact:!0,activeClassName:_.a.active},e.children))},w=a(87),y=a.n(w),N=a(5),I=a(11),O=a.n(I),D=function(){return O.a.create({baseURL:"http://54.193.249.19:8000"})},L=function(e){return{type:"auth_success",authData:e}},P=function(e){return{type:"auth_fail",error:e}},C=function(){return localStorage.removeItem("username"),localStorage.removeItem("userId"),localStorage.removeItem("email"),localStorage.removeItem("token"),localStorage.removeItem("isAdmin"),localStorage.removeItem("expirationDate"),{type:"logout"}},x=function(){return function(e,t){var a=t().portfolio.stocks,n=t().market.marketStocks,r=[];if(a.length>0){var o=!0,l=!1,c=void 0;try{for(var s,i=function(){var e=s.value;r=r.concat(n.filter(function(t){return Object.keys(t)[0].toLocaleLowerCase()==e.symbol.toLocaleLowerCase()}))},u=a[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)i()}catch(m){l=!0,c=m}finally{try{o||null==u.return||u.return()}finally{if(l)throw c}}}e(function(e){return{type:"getUserHomeStocks",u:e}}(r))}},j=Object(N.b)(function(e){return{isLoggedIn:e.auth.isLoggedIn}},function(e){return{onLogout:function(){return e(C())}}})(function(e){var t=r.a.createElement(b,{link:"/auth"},"Sign In"),a=null;return e.isLoggedIn&&(a=r.a.createElement(b,{link:"/dashboard"},"Account"),t=r.a.createElement(b,{link:"/logout"},"Logout")),r.a.createElement("ul",{className:y.a.NavigationItems},r.a.createElement(b,{link:"/"},"Home"),a,t)}),T=function(e){return r.a.createElement("header",{className:u.a.Topbar},r.a.createElement(p,{drawerToggleClicked:e.drawerToggleClicked}),r.a.createElement(k,{height:"75%"}),r.a.createElement("nav",{className:u.a.DesktopOnly},r.a.createElement(j,null)))},A=a(58),U=a.n(A),B=a(89),V=a.n(B),q=a(22),R=a.n(q),F=Object(s.f)(function(e){var t=e.stock,a=e.stock.latestPrice>e.stock.open,n=t.close-t.open,o=t.extendedPrice-t.close;return n=n>=0?"+$"+n.toFixed(2):"-$"+-1*n.toFixed(2),o=o>=0?"+$"+o.toFixed(2):"-$"+-1*o.toFixed(2),r.a.createElement("div",{className:R.a.Stock,stock:t,onClick:function(){e.history.push("stocks/"+t.symbol)}},r.a.createElement("div",{className:R.a.symbol},t.symbol),r.a.createElement("div",{className:R.a.price,style:{backgroundColor:a?"cyan":"red"}},"$",t.latestPrice.toLocaleString()),r.a.createElement("div",{className:R.a.change},r.a.createElement("div",{className:R.a.change_period},n.toLocaleString()," Today"),r.a.createElement("div",{className:R.a.change_period},o.toLocaleString()," After Hours")))}),H=Object(N.b)(function(e){return{marketStocks:e.market.marketStocks,totalValue:e.portfolio.totalValue}},function(e){return{}})(function(e){var t=null;return e.stocks.length>0&&(t=r.a.createElement("ul",{className:V.a.Stocks},e.stocks.map(function(e){return r.a.createElement(F,{key:Object.keys(e)[0],stock:Object.values(e)[0].quote})}))),r.a.createElement(r.a.Fragment,null,t)}),G=Object(N.b)(function(e){return{marketStocks:e.market.marketStocks,totalValue:e.portfolio.totalValue,userStocks:e.portfolio.stocks,isAuthenticated:e.auth.isLoggedIn,userId:e.auth.userId,buyingPower:e.portfolio.buyingPower,userRealStocks:e.portfolio.realUserStocks}},function(e){return{getMarketStocks:function(){return e(function(e){O.a.get("/stock/market/batch?symbols=aapl,fb,tsla,goog,baba,twtr,msft,ba,intc,snap,nflx,techy&types=quote&range=1d&last=5").then(function(t){e({type:"fetchMarketStocks",marketStocks:t.data})}).catch(function(e){return console.log(e)})})},checkAuthState:function(){return e({type:"checkAuthState"})},getUserStocks:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){null!==e&&D().get("/stocks/"+e,t).then(function(e){a({type:"getUserStocks",stocks:e.data})}).catch(function(e){return console.log(e)})}}(t))},getBuyingPower:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){null!==e&&localStorage.getItem(!0)&&D().get("/getbuyingpower/".concat(e),t).then(function(e){a({type:"getUserBuyingPower",data:e.data})}).catch(function(e){return console.log(e)})}}(t))},getTotalValue:function(){return e(function(e,t){var a=t().portfolio.stocks,n=t().market.marketStocks,r=0,o=!0,l=!1,c=void 0;try{for(var s,i=a[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value,m=!0,d=!1,p=void 0;try{for(var g,h=n[Symbol.iterator]();!(m=(g=h.next()).done);m=!0){var E=g.value;if(u.symbol.toLowerCase()==Object.keys(E)[0].toLowerCase()){r+=u.shares*Object.values(E)[0].quote.latestPrice;break}}}catch(v){d=!0,p=v}finally{try{m||null==h.return||h.return()}finally{if(d)throw p}}}}catch(v){l=!0,c=v}finally{try{o||null==i.return||i.return()}finally{if(l)throw c}}e({type:"getTotalValue",data:r})})},getUserHomeStocks:function(){return e(x())},initTrade:function(){return e({type:"initTrade"})}}})(function(e){Object(n.useEffect)(function(){e.checkAuthState()},[]),Object(n.useEffect)(function(){e.getMarketStocks(),e.getUserStocks(localStorage.getItem("userId")),e.getBuyingPower(localStorage.getItem("userId"))},[]),Object(n.useEffect)(function(){e.getTotalValue(e.userStocks,e.marketStocks)},[e.userStocks]),Object(n.useEffect)(function(){e.getUserHomeStocks()},[e.userStocks]),Object(n.useEffect)(function(){e.initTrade()},[]);var t=null;e.isAuthenticated||(t=r.a.createElement("p",null,"Just ",r.a.createElement(f.b,{to:"/auth"},"SIGN IN")," and play, explore your talents hidden deep inside you, maybe you are the next wolf of the Wall Street!"));var a=e.userStocks.length>0?"Your Stocks":"Your stocks bucket is empty";return r.a.createElement("div",{className:U.a.Home},r.a.createElement("div",null,r.a.createElement("p",null,"This is a stock trade simulator website.  "),r.a.createElement("p",null,"Each registered user will be given an initial $10,000 virtual dollars to trade the stocks. All the datas displayed here are real-time datas of stock market."),t,r.a.createElement("h2",null,"Your Position: $",e.isAuthenticated?(e.totalValue+e.buyingPower).toLocaleString():"10000".toLocaleString()),r.a.createElement("h2",null,a)),e.isAuthenticated?r.a.createElement(H,{stocks:e.userRealStocks}):null,r.a.createElement("h2",null,"Market"),r.a.createElement(H,{stocks:e.marketStocks}),r.a.createElement("a",{href:"https://iexcloud.io",target:"_blank",className:U.a.iexUrl},"Data provided by IEX Cloud"))}),M=a(18),W=a.n(M),$=a(90),X=a.n($),z=a(7),J=a.n(z),K=function(e){return r.a.createElement("div",{className:J.a.Order},r.a.createElement("div",{className:J.a.item},r.a.createElement("div",{className:J.a.statsProp},"Stock Symbol:"),null==e.order?null:r.a.createElement("div",null,e.order.symbol.toUpperCase())),r.a.createElement("div",{className:J.a.item},r.a.createElement("div",{className:J.a.statsProp},"Execution Date:"),r.a.createElement("div",null,e.order.date.substring(0,10))),r.a.createElement("div",{className:J.a.item},r.a.createElement("div",{className:J.a.statsProp},"Type: "),r.a.createElement("div",null,1==e.order.type?"Purchase":"Sell")),r.a.createElement("div",{className:J.a.item},r.a.createElement("div",{className:J.a.statsProp}," Execution Price:"),r.a.createElement("div",null,"$",e.order.price.toLocaleString())),r.a.createElement("div",{className:J.a.item},r.a.createElement("div",{className:J.a.statsProp},"Shares:"),r.a.createElement("div",null,e.order.shares)),r.a.createElement("div",{className:J.a.item},r.a.createElement("div",{className:J.a.statsProp},"Total Value:"),r.a.createElement("div",null,(e.order.shares*e.order.price).toLocaleString())),r.a.createElement("hr",{className:J.a.hr}))},Y=function(e){var t=null;return e.orders.length>0&&(t=r.a.createElement("ul",{className:X.a.Orders},e.orders.map(function(e){return r.a.createElement(K,{key:e.id,order:e})}))),r.a.createElement(r.a.Fragment,null,t)},Q=Object(N.b)(function(e){return{marketStocks:e.market.marketStocks,totalValue:e.portfolio.totalValue,userStocks:e.portfolio.stocks,isAuthenticated:e.auth.isLoggedIn,userId:e.auth.userId,buyingPower:e.portfolio.buyingPower,userRealStocks:e.portfolio.realUserStocks,orders:e.portfolio.orders}},function(e){return{getUserHomeStocks:function(){return e(x())},getUserOrders:function(){return e(function(){var e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}},t=localStorage.getItem("userId");return function(a){D().get("/orders/".concat(t),e).then(function(e){a({type:"getOrders",data:e.data})}).catch(function(e){return console.log(e)})}}())},initTrade:function(){return e({type:"initTrade"})}}})(function(e){return Object(n.useEffect)(function(){e.getUserHomeStocks()},[e.userStocks]),Object(n.useEffect)(function(){e.getUserOrders()},[]),Object(n.useEffect)(function(){e.getUserOrders()},[e.userStocks]),Object(n.useEffect)(function(){e.initTrade()},[]),r.a.createElement("div",{className:W.a.Dashboard},r.a.createElement("div",{className:W.a.position},r.a.createElement("h2",null,"Total Value"),r.a.createElement("h2",null,"$",(e.totalValue+e.buyingPower).toLocaleString())),r.a.createElement("div",{className:W.a.buyingpower},r.a.createElement("div",{className:W.a.buyingpowertext},"BUYING POWER"),r.a.createElement("div",null,"$",e.buyingPower.toLocaleString())),r.a.createElement("div",{className:W.a.stocks},r.a.createElement("h2",null,"Your Stocks"),r.a.createElement(H,{stocks:e.userRealStocks})),r.a.createElement("div",{className:W.a.orders},r.a.createElement("h2",null,"Pending Orders")),r.a.createElement("div",{className:W.a.orders},r.a.createElement("h2",null,"Past Orders"),r.a.createElement(Y,{orders:e.orders})))}),Z=a(24),ee=a(91),te=a(92),ae=a(102),ne=a(93),re=a(103),oe=a(23),le=a.n(oe),ce=function(e){var t=null;switch(e.inputtype){case"input":t=r.a.createElement("input",{className:le.a.InputElement,type:e.type,name:e.name,required:e.required,value:e.value,onChange:e.changed});break;case"textarea":t=r.a.createElement("textarea",{className:le.a.InputElement,type:e.type,name:e.name,required:e.required,value:e.value,onChange:e.changed});break;case"select":t=r.a.createElement("select",{className:le.a.InputElement,value:e.value,onChange:e.changed},e.options.map(function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValue)}));break;default:t=r.a.createElement("input",Object.assign({className:le.a.InputElement},e))}return r.a.createElement("div",{className:le.a.Input},r.a.createElement("label",{className:le.a.Label},e.label),t)},se=a(94),ie=a.n(se),ue=a(6),me=a.n(ue),de=function(e){var t=e.formErrors;return r.a.createElement("div",{className:me.a.FormErrors},Object.keys(t).map(function(e,a){return t[e].length>0?r.a.createElement("p",{key:a,style:{color:"red"}},e," ",t[e]):""}))},pe=a(95),ge=a.n(pe),he=function(e){return r.a.createElement("div",{className:ge.a.Loader},"Loading...")},Ee=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",confirmation:"",formErrors:{username:"",email:"",password:"",confirmation:""},usernameValid:!1,emailValid:!1,passwordValid:!1,confirmationValid:!1,signUpFormValid:!1,signInFormValid:!1,isSignup:!0,isSignin:!1},a.handleInputChange=function(e,t){a.setState(Object(Z.a)({},e.target.name,e.target.value)),a.validateField(t,e.target.value)},a.validateField=function(e,t){var n=a.state.formErrors,r=a.state.usernameValid,o=a.state.emailValid,l=a.state.passwordValid,c=a.state.confirmationValid;switch(e){case"username":r=t.length>=3&&t.length<=12,n.name=r?"":" length range should be between 3~12";break;case"email":o=ie()(t.trim()),n.email=o?"":" is invalid";break;case"password":l=t.length>=6&&t.length<=12,n.password=l?"":" length range should be between 6~12";break;case"confirmation":c=t===a.state.password,n.confirmation=c?"":" not match password!"}var s=r&&o&&l&&c,i=o&&l;a.setState({formErrors:n,usernameValid:r,emailValid:o,passwordValid:l,confirmationValid:c,signUpFormValid:s,signInFormValid:i})},a.handleFormSubmit=function(e){e.preventDefault(),a.state.isSignin&&a.props.onSignIn(a.state.email,a.state.password),a.state.isSignup&&a.props.onSignUp(a.state.username,a.state.email,a.state.password)},a.switchSignup=function(){a.setState({isSignin:!1,isSignup:!0})},a.switchSignin=function(){a.setState({isSignin:!0,isSignup:!1})},a}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(ce,{inputtype:"input",type:"text",name:"username",label:"Username",required:!0,changed:function(t){e.handleInputChange(t,"username")},value:this.state.username}),r.a.createElement(ce,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.handleInputChange(t,"email")},value:this.state.email}),r.a.createElement(ce,{inputtype:"input",type:"password",name:"password",label:"Password",required:!0,changed:function(t){e.handleInputChange(t,"password")},value:this.state.password}),r.a.createElement(ce,{inputtype:"input",type:"password",name:"confirmation",label:"Password Confirmation",required:!0,changed:function(t){e.handleInputChange(t,"confirmation")},value:this.state.confirmation}),r.a.createElement("button",{className:me.a.SignUp,disabled:!this.state.signUpFormValid},"Sign Up"));this.state.isSignup||(t=r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement(ce,{inputtype:"input",type:"email",name:"email",label:"Email",required:!0,changed:function(t){e.handleInputChange(t,"email")},value:this.state.email}),r.a.createElement(ce,{inputtype:"input",type:"password",name:"password",label:"Password",required:!0,changed:function(t){e.handleInputChange(t,"password")},value:this.state.password}),r.a.createElement("button",{className:me.a.SignUp,disabled:!this.state.signInFormValid},"Sign In")));var a=null;this.props.error&&(a=r.a.createElement("p",null,this.props.error.response.data.error.message));var n=[];n=this.state.isSignup?[me.a.SwitchButton,me.a.SwitchSignup,me.a.SwitchActive]:[me.a.SwitchButton,me.a.SwitchSignup];var o=[];o=this.state.isSignin?[me.a.SwitchButton,me.a.SwitchSignin,me.a.SwitchActive]:[me.a.SwitchButton,me.a.SwitchSignin];var l=null;return this.props.isLoggedIn&&(l=this.props.buildingBurger?r.a.createElement(s.a,{to:"/checkout"}):r.a.createElement(s.a,{to:"/"})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:me.a.Switch},l,r.a.createElement("button",{onClick:this.switchSignup,className:n.join(" ")},"Sign Up"),r.a.createElement("button",{onClick:this.switchSignin,className:o.join(" ")},"Sign In")),r.a.createElement("div",{className:me.a.ContactData},r.a.createElement(de,{formErrors:this.state.formErrors}),t,a))}}]),t}(n.Component),ve=Object(N.b)(function(e){return{token:e.auth.token,userId:e.auth.userId,error:e.auth.error,isLoggedIn:e.auth.isLoggedIn}},function(e){return{onSignIn:function(t,a){return e(function(e,t){var a={email:e,password:t};return function(e){D().post("/login",a).then(function(t){localStorage.setItem("userId",t.data.userId),localStorage.setItem("username",t.data.username),localStorage.setItem("email",t.data.email),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",t.data.isAdmin),localStorage.setItem("expirationDate",new Date(t.data.expirationDate)),e(L(t.data))}).catch(function(t){e(P(t))})}}(t,a))},onSignUp:function(t,a,n){return e(function(e,t,a){var n={username:e,email:t,password:a};return function(e){D().post("/register",n).then(function(t){localStorage.setItem("userId",t.data.userId),localStorage.setItem("username",t.data.username),localStorage.setItem("email",t.data.email),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",t.data.isAdmin),localStorage.setItem("expirationDate",new Date(t.data.expirationDate)),e(L(t.data))}).catch(function(t){e(P(t))})}}(t,a,n))}}})(Ee),ke=Object(N.b)(null,function(e){return{onLogout:function(){return e(C())}}})(function(e){return Object(n.useEffect)(function(){e.onLogout()}),r.a.createElement(s.a,{to:"/"})}),fe=a(1),Se=a.n(fe),_e=a(96),be=a(98),we=a.n(be),ye=function(e){var t=e.chartData,a=[],n=[];t.forEach(function(e){a.push(e.label),n.push(e.close)});var o={labels:a,datasets:[{label:e.symbol,fill:!1,lineTension:.1,borderColor:"rgba(75,192,192,1)",data:n}]};return r.a.createElement("div",{className:we.a.LineGraph},r.a.createElement(_e.a,{data:o,width:400,height:300,options:{maintainAspectRatio:!0}}))},Ne=a(31),Ie=a.n(Ne),Oe=function(e){var t=e.newsItem;return r.a.createElement("div",{className:Ie.a.NewsItem},r.a.createElement("div",{className:Ie.a.url},r.a.createElement("a",{href:t.url,target:"_blank"}," ",r.a.createElement("h3",null,t.headline)," ")),r.a.createElement("div",{className:Ie.a.source},"Source: ",r.a.createElement("em",null,t.source),", ",t.datetime.substring(0,10)),r.a.createElement("div",{className:Ie.a.summary},r.a.createElement("p",null,t.summary)))},De=a(99),Le=a.n(De),Pe=function(e){var t=e.news;return r.a.createElement("div",{className:Le.a.News},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("hr",null),r.a.createElement(Oe,{newsItem:e}))}))},Ce=Object(N.b)(function(e){return{quote:e.market.quote,logo:e.market.logo,news:e.market.stockNews,chart:e.market.chart,userStocks:e.portfolio.stocks,orders:e.portfolio.orders,tradingSuccess:e.stocks.tradingSuccess,tradeLoading:e.portfolio.tradeLoading}},function(e){return{getSingleStock:function(t,a,n){return e(function(e,t,a){return function(n){O.a.all([O.a.get("/stock/".concat(e,"/quote")),O.a.get("/stock/".concat(e,"/logo")),O.a.get("/stock/".concat(e,"/news")),O.a.get("/stock/".concat(e,"/chart/").concat(t,"?chartInterval=").concat(a))]).then(O.a.spread(function(e,t,a,r){n({type:"getStockDetail",stockDetails:[e.data,t.data.url,a.data,r.data]})})).catch(function(e){alert(e)})}}(t,a,n))},placeOrder:function(t){return e(function(e){var t={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};return function(a){a({type:"startTrading"}),D().post("/stocks/update",e,t).then(function(e){alert("Order is placed!"),a({type:"getUserBuyingPower",data:e.data}),a({type:"placeOrder"})}).catch()}}(t))}}})(Object(s.f)(function(e){var t=Object(n.useState)("1d"),a=Object(c.a)(t,2),o=a[0],l=a[1],i=Object(n.useState)(5),u=Object(c.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)("1d"),g=Object(c.a)(p,2),h=g[0],E=g[1],v=Object(n.useState)("buy"),k=Object(c.a)(v,2),f=k[0],S=k[1],_=Object(n.useState)(0),b=Object(c.a)(_,2),w=b[0],y=b[1],N=Object(n.useState)("Market"),I=Object(c.a)(N,2),O=I[0],D=I[1],L=Object(n.useState)(!1),P=Object(c.a)(L,2),C=P[0],x=P[1],j=e.match.params.symbol;function T(e){if(e){for(var t=e,a=0;t>=1e3;)t/=1e3,a++;return t=t.toPrecision(3),t+=["","K","M","B","T"][a]}}function A(e){l(e),E(e),d("1d"==e?5:null)}Object(n.useEffect)(function(){e.getSingleStock(j,o,m)},[o]);var U=null;e.quote.latestPrice&&(U=r.a.createElement("div",{className:Se.a.Name_Price_Chart},r.a.createElement("div",{className:Se.a.head},r.a.createElement("div",{className:Se.a.headline},e.quote.companyName),r.a.createElement("div",{className:Se.a.headline,style:{fontFamily:"'Lora', serif"}},"$",e.quote.latestPrice.toLocaleString())),r.a.createElement("div",{className:Se.a.logo},r.a.createElement("img",{src:e.logo})),r.a.createElement("ul",{className:Se.a.rangeChoice},r.a.createElement("button",{onClick:function(){return A("1d")},className:"1d"==h?Se.a.RangeChoiceActive:null},"1d"),r.a.createElement("button",{onClick:function(){return A("5d")},className:"5d"==h?Se.a.RangeChoiceActive:null},"5d"),r.a.createElement("button",{onClick:function(){return A("1m")},className:"1m"==h?Se.a.RangeChoiceActive:null},"1m"),r.a.createElement("button",{onClick:function(){return A("3m")},className:"3m"==h?Se.a.RangeChoiceActive:null},"3m"),r.a.createElement("button",{onClick:function(){return A("6m")},className:"6m"==h?Se.a.RangeChoiceActive:null},"6m"),r.a.createElement("button",{onClick:function(){return A("1y")},className:"1y"==h?Se.a.RangeChoiceActive:null},"1y"),r.a.createElement("button",{onClick:function(){return A("2y")},className:"2y"==h?Se.a.RangeChoiceActive:null},"2y")),r.a.createElement("hr",null),r.a.createElement(ye,{symbol:j,chartData:e.chart})));var B=null;if(e.userStocks.length>0){var V=e.userStocks.find(function(e){return e.symbol.toLowerCase()==j.toLowerCase()});B=void 0!=V?r.a.createElement("div",{className:Se.a.position},r.a.createElement("div",{className:Se.a.positionTitle},"Your Position"),r.a.createElement("div",{className:Se.a.positionBody},r.a.createElement("div",{className:Se.a.positionItem},r.a.createElement("div",{className:Se.a.statsProp},"SHARES"),r.a.createElement("div",null,V.shares)),r.a.createElement("div",{className:Se.a.positionItem},r.a.createElement("div",{className:Se.a.statsProp},"EQUITY"),r.a.createElement("div",null,"$",e.quote.latestPrice?parseFloat(V.shares*e.quote.latestPrice).toFixed(2).toLocaleString():null)),r.a.createElement("div",{className:Se.a.positionItem},r.a.createElement("div",{className:Se.a.statsProp},"AVG COST"),r.a.createElement("div",null)),r.a.createElement("div",{className:Se.a.positionItem},r.a.createElement("div",{className:Se.a.statsProp},"TODAY'S RETURN"),r.a.createElement("div",null,"$",V.shares*(e.quote.latestPrice-e.quote.previousClose).toLocaleString())),r.a.createElement("div",{className:Se.a.positionItem},r.a.createElement("div",{className:Se.a.statsProp},"TOTAL RETURN"),r.a.createElement("div",null)))):null}var q=function(e){S(e.target.value)},R=function(e){D(e.target.value)},F=null;e.tradingSuccess&&(F=r.a.createElement(s.a,{to:"/"}));var H=null;return H=C?r.a.createElement(he,null):r.a.createElement("div",{className:Se.a.trade},r.a.createElement("div",{className:Se.a.tradeTitle},"Trade"),r.a.createElement("div",{className:Se.a.type},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"type",value:"buy",checked:"buy"===f,onChange:q}),"Buy"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"type",value:"sell",checked:"sell"===f,onChange:q}),"Sell")),r.a.createElement("div",{className:Se.a.order},r.a.createElement("label",null,"Quantity ",r.a.createElement("input",{type:"text",name:"quantity",value:w,className:Se.a.quantityInput,onChange:function(e){y(e.target.value)}})),r.a.createElement("label",null,"Order Type ",r.a.createElement("select",{onChange:R,className:Se.a.orderType,value:O},r.a.createElement("option",{value:"Limit",disabled:!0},"Limit Price"),r.a.createElement("option",{value:"Market"},"Market Price"),r.a.createElement("option",{value:"Stop",disabled:!0},"Stop"),r.a.createElement("option",{value:"Stop Limit",disabled:!0},"Stop Limit")))),r.a.createElement("div",{className:Se.a.price},r.a.createElement("label",null,"Limit Price ",r.a.createElement("input",{disabled:!0,type:"text",name:"limitprice",className:Se.a.quantityInput})),r.a.createElement("label",null,"Stop Price ",r.a.createElement("input",{disabled:!0,type:"text",name:"stopprice",className:Se.a.quantityInput})),r.a.createElement("label",null,"Expiration ",r.a.createElement("select",{onChange:R,className:Se.a.orderType,value:O},r.a.createElement("option",{value:"Day"},"Day"),r.a.createElement("option",{value:"GT90"},"GT90"),r.a.createElement("option",{value:"PreMarket"},"Pre Market"),r.a.createElement("option",{value:"AfterMarket"},"After Market")))),r.a.createElement("div",{className:Se.a.submit},r.a.createElement("button",{onClick:function(){x(!0);var t={userId:localStorage.getItem("userId"),symbol:j.toLowerCase(),shares:w,operation:f};e.placeOrder(t)},className:Se.a.submitButton},"Submit Order"))),r.a.createElement("div",{className:Se.a.StockDetail},F,r.a.createElement("div",{className:Se.a.backbutton,onClick:function(){e.history.goBack()}},"\u276e Back"),U,H,B,r.a.createElement("div",{className:Se.a.stats},r.a.createElement("div",{className:Se.a.statsTitle},"Stats"),r.a.createElement("div",{className:Se.a.statsBody},r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"OPEN"),r.a.createElement("div",null,e.quote.open)),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"VOLUME"),r.a.createElement("div",null,T(e.quote.latestVolume))),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"HIGH"),r.a.createElement("div",null,e.quote.high)),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"AVG VOL"),r.a.createElement("div",null,T(e.quote.avgTotalVolume))),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"LOW"),r.a.createElement("div",null,e.quote.low)),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"MKT CAP"),r.a.createElement("div",null,T(e.quote.marketCap))),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"52 WK HIGH"),r.a.createElement("div",null,e.quote.week52High)),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"P/E RATIO"),r.a.createElement("div",null,e.quote.peRatio)),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"52 WK LOW"),r.a.createElement("div",null,e.quote.week52Low)),r.a.createElement("div",{className:Se.a.statsItem},r.a.createElement("div",{className:Se.a.statsProp},"EXTENDED PRICE"),r.a.createElement("div",null,e.quote.extendedPrice)))),r.a.createElement("div",{className:Se.a.news},r.a.createElement("div",{className:Se.a.NewsHead},"News"),r.a.createElement(Pe,{news:e.news})))})),xe=a(32),je=a.n(xe),Te=a(100),Ae=a.n(Te),Ue=function(e){return e.show?r.a.createElement("div",{className:Ae.a.Backdrop,onClick:e.clickBackdrop}):null},Be=function(e){var t=[je.a.SideDrawer,je.a.Close];return e.show&&(t=[je.a.SideDrawer,je.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ue,{show:e.show,clickBackdrop:e.sideDrawerClicked}),r.a.createElement("div",{className:t.join(" "),onClick:e.sideDrawerClicked},r.a.createElement(k,{height:"10%"}),r.a.createElement(j,null)))},Ve=Object(N.b)(function(e){return{isAuthenticated:e.auth.isLoggedIn}})(function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],l=a[1],i=r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:G}),r.a.createElement(s.b,{path:"/auth",exact:!0,component:ve}),r.a.createElement(s.b,{path:"/stocks/:symbol",exact:!0,component:Ce}),r.a.createElement(s.a,{to:"/"}));return e.isAuthenticated&&(i=r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/stocks/:symbol",component:Ce}),r.a.createElement(s.b,{path:"/",exact:!0,component:G}),r.a.createElement(s.b,{path:"/logout",component:ke}),r.a.createElement(s.b,{path:"/dashboard",component:Q}),r.a.createElement(s.b,{path:"/auth",component:ve}),r.a.createElement(s.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(T,{drawerToggleClicked:function(){l(!o)}}),r.a.createElement(Be,{show:o,sideDrawerClicked:function(){l(!1)}}),i)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=a(101),Re=a(21),Fe=a(4),He={userId:null,username:null,email:null,token:null,expirationDate:null,isAdmin:!1,error:null,isLoggedIn:!1,buyingPower:0},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth_fail":return Object(Fe.a)({},e,{error:t.error});case"auth_success":return Object(Fe.a)({},e,{userId:t.authData.userId,username:t.authData.username,email:t.authData.email,token:t.authData.idToken,isAdmin:t.authData.isAdmin,expirationDate:t.authData.expirationDate,isLoggedIn:!0,buyingPower:t.authData.buyingPower});case"logout":return Object(Fe.a)({},e,{username:null,email:null,token:null,expirationDate:null,isAdmin:!1,error:null,isLoggedIn:!1});case"checkAuthState":var a=localStorage.getItem("expirationDate"),n=new Date;return localStorage.getItem("token")?n>=a?(localStorage.removeItem("userId"),localStorage.removeItem("username"),localStorage.removeItem("email"),localStorage.removeItem("isAdmin"),localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),Object(Fe.a)({},e,{userId:null,username:null,email:null,token:null,expirationDate:null,isAdmin:!1,error:null,isLoggedIn:!1})):Object(Fe.a)({},e,{userId:localStorage.getItem("userId"),token:localStorage.getItem("token"),username:localStorage.getItem("username"),email:localStorage.getItem("email"),expirationDate:localStorage.getItem("expirationDate"),isAdmin:localStorage.getItem("isAdmin"),isLoggedIn:!0}):e;default:return e}},Me={tradeLoading:!1,tradingSuccess:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;switch((arguments.length>1?arguments[1]:void 0).type){case"initTrade":return Object(Fe.a)({},e,{tradeLoading:!1,tradingSuccess:!1});case"startTrading":return Object(Fe.a)({},e,{tradeLoading:!0,tradingSuccess:!1});case"placeOrder":return Object(Fe.a)({},e,{tradeLoading:!1,tradingSuccess:!0});default:return e}},$e={totalValue:0,buyingPower:1e4,stocks:[],orders:[],realUserStocks:[]},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"getUserStocks":var a=t.stocks;return Object(Fe.a)({},e,{stocks:a});case"getUserBuyingPower":var n=t.data.buyingPower;return Object(Fe.a)({},e,{buyingPower:n});case"getTotalValue":var r=t.data;return Object(Fe.a)({},e,{totalValue:r});case"getUserHomeStocks":var o=t.u;return Object(Fe.a)({},e,{realUserStocks:o});case"getOrders":return Object(Fe.a)({},e,{orders:t.data});default:return e}},ze={marketStocks:[],quote:{},logo:"",stockNews:[],chart:[],topNews:[]},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetchMarketStocks":var a=t.marketStocks,n=[];for(var r in a)n.push(Object(Z.a)({},r,a[r]));return Object(Fe.a)({},e,{marketStocks:n});case"getStockDetail":var o=t.stockDetails;return Object(Fe.a)({},e,{quote:o[0],logo:o[1],stockNews:o[2],chart:o[3]});default:return e}},Ke=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Re.d,Ye=Object(Re.c)({stocks:We,auth:Ge,market:Je,portfolio:Xe}),Qe=Object(Re.e)(Ye,Ke(Object(Re.a)(qe.a)));O.a.defaults.baseURL="https://api.iextrading.com/1.0",l.a.render(r.a.createElement(N.a,{store:Qe},r.a.createElement(f.a,null,r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},31:function(e,t,a){e.exports={NewsItem:"NewsItem_NewsItem__1e1gG",url:"NewsItem_url__RP8fB",source:"NewsItem_source__eP5qK",summary:"NewsItem_summary__33Uye"}},32:function(e,t,a){e.exports={SideDrawer:"SideDrawer_SideDrawer__1VwFf",Open:"SideDrawer_Open__14_Go",Close:"SideDrawer_Close__3Arp4"}},54:function(e,t,a){e.exports={Topbar:"Topbar_Topbar__tJBUu",DesktopOnly:"Topbar_DesktopOnly__1n1_w"}},55:function(e,t,a){e.exports={NavItem:"NavItem_NavItem__3_fL9",active:"NavItem_active__3-OL9"}},58:function(e,t,a){e.exports={Home:"Home_Home__32WxU",iexUrl:"Home_iexUrl__1kFgG"}},6:function(e,t,a){e.exports={Switch:"Auth_Switch__12Xsc",SwitchButton:"Auth_SwitchButton__21Li9",SwitchSignup:"Auth_SwitchSignup__1euas",SwitchSignin:"Auth_SwitchSignin__2upYT",SwitchActive:"Auth_SwitchActive__2gVUU",ContactData:"Auth_ContactData__2IRuC",SignUp:"Auth_SignUp__2zPYe",enable:"Auth_enable__2AcjZ"}},7:function(e,t,a){e.exports={Order:"Order_Order__2iaS1",item:"Order_item__doJ3-",statsProp:"Order_statsProp__wAGEe",hr:"Order_hr__1ng8K",stats:"Order_stats__1QBSA"}},83:function(e,t,a){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2LJbH"}},84:function(e,t,a){e.exports={Logo:"Logo_Logo__9UPuT"}},85:function(e,t,a){e.exports=a.p+"static/media/logo.d362671e.png"},87:function(e,t,a){e.exports={NavigationItems:"NavigationItems_NavigationItems__WLGgD"}},89:function(e,t,a){e.exports={Stocks:"Stocks_Stocks__23hs0"}},90:function(e,t,a){},95:function(e,t,a){e.exports={Loader:"Spinner_Loader__3Uv3D",load1:"Spinner_load1__1C1l-"}},98:function(e,t,a){e.exports={LineGraph:"LineGraph_LineGraph__1S4wd"}},99:function(e,t,a){e.exports={News:"News_News__3C2Iw"}}},[[104,1,2]]]);
//# sourceMappingURL=main.f84d9257.chunk.js.map